<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>slides</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.27/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


# STAT 436: Statistical Data Visualization

## Fall 2024



---


### Welcome!!

I'm excited to share this course with you this semester. There are few
activities that engage creative, quantitative, and critical thinking skills all
at once, but data visualization is one of them.

Nothing makes my day like a good data visualization, and I look forward to
seeing those that you create.

---

### Syllabus

* Learning outcomes
* Teaching team and office hours
* Assessments
* Grading

---

### Learning Outcomes

1.	Develop a vocabulary of visual encodings that support exploration of
geospatial, temporal, tree-structured, and network data, and demonstrate
facility implementing them using packages in the R programming language.
1.	Design dynamic queries that support interactive visualization of
heterogeneous data, and demonstrate facility implementing them using the shiny
package in the R programming language.
1.	Design effective visualizations to summarize the results of dimensionality
reduction and clustering algorithms.

---

### Learning Outcomes

1.	Use visual artifacts derived from complex statistical and machine learning
models to discuss the patterns they learn and mistakes they make.
1.	Evaluate strengths and weaknesses of visualizations in relation to the tasks
they support.

---


### Office Hours

Instructor: Kris Sankaran [ksankaran@wisc.edu]

TA: Matt Sathitvudh [sathitvudh@wisc.edu]

We will announce in-person and virtual office hours depending on the results of
this poll: https://go.wisc.edu/tsi676

Submit your preferences by **Sunday  at Noon**.

---


### Assessments

* In-class exercises and discussions
* 4 Homework assignments
  - 2 Portfolio + 2 Exercise Sheet
* 3 group project reports, 2 presentations
  - Teams of 4 - 6 people
  - 2 Presentations = 1 Formal + 1 Informal
* 1 midterm exam
  - In-class on (tk set date)
  - 1 page cheat sheet
---

### Grading

* In-Class Exercises: 15%
* Midterm: 20%
* Homework: 35%
* Group Project: 30%

---

### Class Resources

1. [Canvas page](tk set link)
  - Links to all other resources
1. [Online notes](https://krisrs1128.github.io/stat436_f24/)
1. [Online recordings](https://mediaspace.wisconsin.edu/) (also linked in notes)
1. [Piazza](tk set link https://piazza.com/class/)
1. [Worked code examples](https://github.com/krisrs1128/stat436_f24/tree/main/activities/)
1. [Readings](https://github.com/krisrs1128/stat436_f24/raw/main/logistics/syllabus.docx) (Page 3 of Syllabus)

---

### Questions?

Also feel free to speak with me after class.

---

### Preparation

* For next lecture, bring your laptops
* Make sure you can run the [starter code](https://github.com/krisrs1128/stat436_sf4/blob/main/activities/demo1-1-starter.Rmd) for In-Class Demo [1-1]
  - I recommend using Rstudio
  - You can install the tidyverse package using
  

``` r
install.packages("tidyverse") 
```

---

### Advice from Previous Students

* Past Portfolios: [https://go.wisc.edu/hllk12](https://go.wisc.edu/hllk12/)
* Past Advice: [https://go.wisc.edu/l76v31](https://go.wisc.edu/kma1mv)

"Use the notes and recordings that are provided before class"

"You can focus on following along with the demos as opposed to trying to copy down every line of the code"

"Downloading the final solution and adding in comments to it can be helpful for understanding"

"Use the portfolio homework as a way to train your EDA / Visualization skills. Choose topics that are interesting to you so you will have the motivation to create super interesting analysis and graphs!"

---

### Exercise 1 - 1

1. Introduce yourself to your neighbors. Share your name, degree program, and
one of: a recent hobby, favorite movie, favorite food.

1. Submit a response to [Formulating Questions] on Canvas and share your chosen
dataset with your neighbors.

1. We will not grade the plot's quality -- we just want to get a sense of
everyone's starting point.

---

### Exercise 1 - 1

[Formulating Questions] Pick a dataset from
[TidyTuesday](https://github.com/rfordatascience/tidytuesday#datasets), [Data Is
Plural](https://docs.google.com/spreadsheets/d/1wZhPLMCHKJvwOkP4juclhjFgqIY8fQFMemwKL2c64vk/edit#gid=0),
[Kaggle Datasets](https://www.kaggle.com/datasets), [Google Dataset
Search](https://datasetsearch.research.google.com/), or your own personal
studies that you would like to visualize this semester. 

a. What makes you interested in this dataset? What questions does it help to answer?

b. Using any tools of your choice, make one example visualization from your
    dataset. What was your thought process behind the design of this
    visualization? This will not be evaluated except for effort -- the purpose
    of the problem is to create a record your data visualization skills at the
    start of the course. Submit both your visualization and code used to create
    it.

---

## January 25, 2024

1. Review Exercise 1 - 1
1. [In-Class Demo 1 - 1](https://github.com/krisrs1128/stat436_s24/blob/main/activities/demos/demo1-1-starter.Rmd)
1. [In-Class Exercise 1 - 2](https://canvas.wisc.edu/courses/396861/assignments/2155317)

---

### Announcements

1. We will accept responses to the Office Hours Poll
(https://go.wisc.edu/tsi676) until Sunday at noon. Let us know your preferences!
1. Project Milestones 0 and 1 have been posted. Due (tk set date)
1. HW1 has been posted. Due (tk set date)
1. Please sign up (with your team) for a visualization share (https://go.wisc.edu/6jx55o). Sign-ups due (tk set date).

---

### Beautiful Visualizations - Comments?

[link](https://www.behance.net/gallery/78642081/IAU100-exhibition-data-visualization-and-graphics)

.pull-right[
[Source](https://www.behance.net/gallery/78642081/IAU100-exhibition-data-visualization-and-graphics)

[Plot background](https://stackoverflow.com/questions/51255832/how-to-add-an-image-on-ggplot-background-not-the-panel)
]

---

### [In-Class Demo 1 - 1]

We will work through [Penguins] from the exercise sheet. We'll also see how you
can create an HTML or PDF submission. **Only join the Live Demo if your university ID ends in an even number.**

* Demo link: [https://go.wisc.edu/631kr1]()
* Solution: [tk set link](tk set link)

---

### Exercise 1 - 2

Response to *one* of the following questions in the exercise sheet:

* [Critique - Infographic]
* [Critique - Science Paper I]
* [Critique - Science Paper II]

---

## Week 2 - 1

1. Review Exercise 1 - 2
1. In-Class Demo 2 - 1
1. In-Class Exercise 2 - 1

---

### Announcements

* Office Hours have been set.
  - Kris, (tk), Medical Sciences Center 7225C
  - Matt, (tk), Medical Sciences Center (tk)
* A past midterm is posted under "Week 6" on Canvas.
* Sign-up with your team for one of the visualization shares by (tk)*
* Assignments:
  - Project Milestone 0 [tk date]
  - Project Milestone 1 [tk date]
  - HW1 [tk date]

---

### Exercise Review

.center[
  &lt;img src="figure/info-food-waste.png" width=700/&gt;
]

---

### Exercise Review

&lt;!-- * What is the meaning of these scales? Are 20 million slices of bread really
comparable to 290,000 kg of poultry? What about CO2 equivalents?
* A barchart would make quantitative comparisons much easier, especially for
smaller circles
* Bright pink background...
* The text is sometimes quite small
* Are apples really vegetables??
* The icons are nice --&gt;

---

### Exercise Review

.center[
 &lt;img src="figure/mosquito-predators.jpeg" width=600/&gt;
]

---

### Exercise Review
&lt;!-- 
* This is actually quite elegant, though the visualization form is not that
standard.
* Several responses commented that additional labeling or color would help. Some of the existing annotation lacks context. I
would caution that these additions should not come at the cost of the current
information density.
* In an interactive version, it would be nice to be able to filter by predation
type --&gt;

---

### Exercise Review

.center[
 &lt;img src="figure/elife_sunflower.jpeg" width=500/&gt;
]

---

### Exercise Review

&lt;!-- * This is a very dense visualization, appropriate for a scientific venue, but
requiring significant time to parse (though if a lot is learned through the
process, this need not be a bad thing)
* Having the scatterplot icons look like the properties of the sunflowers they
are studying was a brilliant idea.
* The linking of the same color across many subplots is a good practice.
However, the circle sizes are not consistent between (a) and (b).
* Some of the text makes the figure unnecessarily busy. E.g., do we really need
to know latitude and longitude? --&gt;

---

### In-Class Demo [2 - 1]

We will work through [Plant Growth Experiment] in the exercises sheet.

* Live Demo: https://go.wisc.edu/
* Whiteboard: https://go.wisc.edu/
* Completed Code: https://go.wisc.edu/

---

### Notebook Submissions

* Make sure to remove extraneous package loading messages from your
exercise and homework solutions.
* There are also ways to customize the output colors, fonts, etc.
* Let's look at how to do this with the previous demo.

---

### In-Class Exercise [2 - 1]

* Submit an answer to [Code Analysis] from the exercises sheet.

[Code Analysis] Pick one code example from this weekâ€™s lecture notes. Provide a
3 - 4 sentence summary of the overall implementation strategy. Then, add
comments every 10 - 15 lines describing what each section of code is doing. If
there are parts that you do not understand, add a ??? next to it (we will review
these in the next lecture).

---

## Week 2 - 2

1. Review Exercise 2 - 1
1. In-Class Demo 2 - 2
1. In-Class Exercise 2 - 2

---

### Announcements

* Assignments:
  - Project Milestone 0 [tk]
  - Project Milestone 1 [tk]
  - HW1 [tk]
* Sign-up with your team for one of the visualization shares by *tk*

---

### Beautiful Visualizations - Comments?

.pull-left[
  &lt;img src="figure/oscar_bump.jpg" width=400/&gt; 
]

.pull-right[
  [Source](https://www.ft.com/content/4a2e9b05-463d-491c-af4e-2b0466cb8c63)
]

---

### Beautiful Visualizations - Comments?

.pull-left[
&lt;img src="figure/djokovic.jpeg" width=350/&gt;
]

.pull-right[
[Source](https://ig.ft.com/sites/novak-djokovic-the-best-tennis-season-ever/)
]

---

### Today

By the end of the class, you should be able to...

* 
* 

---

### Exercise Review 2 - 1

Pipe syntax seems to be a new concept. The main idea is to avoid storing
intermediate computations.

.pull-left[

``` r
df2 &lt;- f(df1)
df3 &lt;- g(df2)
```
]

.pull-right[

``` r
df3 &lt;- df1 |&gt; 
  f() |&gt;
  g()
```
]

---

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- The theme only applies to visualizations **after** the `theme_set` call. --&gt;

&lt;!-- ```{r, eval = FALSE, echo = FALSE} --&gt;
&lt;!-- # set the theme --&gt;
&lt;!-- my_theme &lt;- theme_bw() + --&gt;
&lt;!--   theme( --&gt;
&lt;!--     axis.title = element_text(size = 16), --&gt;
&lt;!--     legend.title = element_text(size = 16), --&gt;
&lt;!--     axis.text = element_text(size = 14), --&gt;
&lt;!--     legend.text = element_text(size = 14), --&gt;
&lt;!--     strip.text = element_text(size = 16) --&gt;
&lt;!--   ) --&gt;
&lt;!-- theme_set(my_theme) --&gt;
&lt;!-- #?? I don't know why the theme doesn't setted.  --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- ```{r, echo = FALSE} --&gt;
&lt;!-- theme_set(theme_grey()) --&gt;
&lt;!-- ``` --&gt;
&lt;!-- ```{r, echo = FALSE} --&gt;
&lt;!-- ggplot(mtcars) + --&gt;
&lt;!--   geom_point(aes(mpg, hp)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- my_theme &lt;- theme_bw() + --&gt;
&lt;!--   theme( --&gt;
&lt;!--     axis.title = element_text(size = 16), --&gt;
&lt;!--     legend.title = element_text(size = 16), --&gt;
&lt;!--     axis.text = element_text(size = 14), --&gt;
&lt;!--     legend.text = element_text(size = 14), --&gt;
&lt;!--     strip.text = element_text(size = 16) --&gt;
&lt;!--   ) --&gt;
&lt;!-- theme_set(my_theme) --&gt;
&lt;!-- ggplot(mtcars) + --&gt;
&lt;!--   geom_point(aes(mpg, hp)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ```{r, echo = FALSE} --&gt;
&lt;!-- th &lt;- theme_minimal() + --&gt;
&lt;!--   theme( --&gt;
&lt;!--     panel.grid.minor = element_blank(), --&gt;
&lt;!--     panel.background = element_rect(fill = "#f7f7f7"), --&gt;
&lt;!--     panel.border = element_rect(fill = NA, color = "#0c0c0c", size = 0.6), --&gt;
&lt;!--     axis.text = element_text(size = 14), --&gt;
&lt;!--     axis.title = element_text(size = 16), --&gt;
&lt;!--     legend.position = "bottom" --&gt;
&lt;!--   ) --&gt;
&lt;!-- theme_set(th) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- The plants demo used a regular expression ("regex") to extract the day number --&gt;
&lt;!-- from the column names. --&gt;

&lt;!-- ```{r, eval = FALSE} --&gt;
&lt;!-- plants_reshaped &lt;- plants |&gt; --&gt;
&lt;!--   pivot_longer(starts_with("height")) |&gt; --&gt;
&lt;!--   mutate(day = str_extract(name, "[0-9]+")) #??? --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- str_extract("height.14", "[0-9]") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- str_extract("height.14", "[0-9]+") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- str_extract("height.14.test.21", "[0-9]+") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- str_extract_all("height.14.test.21", "[0-9]+") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- Hint: https://regexr.com/ is useful for learning and testing regexes. --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- * The first two arguments (`day` and `value`) always define the x and y axes in any ggplot layer --&gt;
&lt;!-- * `interaction` defines a temporary factor variable that looks at all combinations --&gt;

&lt;!-- ```{r, eval = FALSE} --&gt;
&lt;!-- ggplot(plants_reshaped) + --&gt;
&lt;!--   geom_line(aes(day, value, group = interaction(plantid, treatment), col = treatment)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- `group` specifies what each line should correspond to. So here, it corresponds --&gt;
&lt;!-- to `plantid x treatment` combinations. --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- interaction(1:4, c("A", "B", "C")) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- ```{r, echo = FALSE} --&gt;
&lt;!-- plants_long &lt;- read_csv("https://uwmadison.box.com/shared/static/qg9gwk2ldjdtcmmmiropcunf34ddonya.csv") |&gt; --&gt;
&lt;!--   pivot_longer(starts_with("height"), names_to = "time", values_to = "height") |&gt; --&gt;
&lt;!--   separate("time", c("dummy", "time"), convert = TRUE) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- ggplot(plants_long) + --&gt;
&lt;!--   geom_point(aes(time, height)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review 2 - 1 --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- ggplot(plants_long) + --&gt;
&lt;!--   geom_point(aes(interaction(time, treatment), height)) + --&gt;
&lt;!--   theme(axis.text.x = element_text(angle = 90)) --&gt;
&lt;!-- ``` --&gt;

---

### In-Class Demo [2 - 2]

We will work through [Olympics Derivations] in the exercises sheet.

* Live Demo: https://go.wisc.edu/
* Completed Code: https://go.wisc.edu/
* Whiteboard: https://go.wisc.edu/

---

### In-Class Exercise [2 - 2]

Work through [Ikea Furniture] part (a) in the exercise sheet.

As you prepare your solution, respond to the [Code Diary] (https://go.wisc.edu/62wr52) questions.

If you finish part (a) during class, try to complete (b - c) as well.

---

[Ikea Furniture] The dataset below shows prices of pieces of Ikea furniture.
We will compare prices of different furniture categories and label the
(relatively few) articles which cannot be bought online.


``` r
ikea &lt;- read_csv("https://uwmadison.box.com/shared/static/iat31h1wjg7abhd2889cput7k264bdzd.csv")
```
a. Make a plot that shows the relationship between the `category` of furniture
and `price` (on a log-scale). Show each `item_id` as a point -- do not aggregate
to boxplots or ridgelines -- but make sure to jitter and adjust the size the
points to reduce the amount of overlap. _Hint: use `geom_jitter`._

b. Modify the plot in (a) so that categories are sorted from those with highest
to lowest average prices.

c. Color points according to whether they can be purchased online. If they
cannot be purchased online, add a text label giving the name of that item of
furniture.

---

## Week 3 - 1

1. In-Class Exercise Review [2-2]
1. In-Class Discussion [3-1]
1. In-Class Demo [3-1]
1. In-Class Exercise [3-1]

---

### Announcements

* Thank you for your Project Milestone 0 submissions!
* Assignments:
  - Project Milestone 1 [tk]
  - HW1 [tk]
* Sign-up with your team for one of the visualization shares by *tk.*

---

&lt;!-- ### Exercise Review [2 - 2] --&gt;

&lt;!-- a. Make a plot that shows the relationship between the category of furniture and --&gt;
&lt;!-- price (on a log-scale). Show each item_id as a point â€“ do not aggregate to --&gt;
&lt;!-- boxplots or ridgelines â€“ but make sure to jitter and adjust the size the points --&gt;
&lt;!-- to reduce the amount of overlap. --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- ikea &lt;- read_csv("https://uwmadison.box.com/shared/static/iat31h1wjg7abhd2889cput7k264bdzd.csv") --&gt;
&lt;!-- head(ikea) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review [2 - 2] --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- ggplot(ikea) + --&gt;
&lt;!--   geom_jitter(aes(category, price)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ```{r, fig.height = 5, fig.width = 10} --&gt;
&lt;!-- ggplot(ikea) + --&gt;
&lt;!--   geom_jitter(aes(category, price)) + --&gt;
&lt;!--   labs(x = "Category of Furniture", y = "Price ($)") + --&gt;
&lt;!--   theme(axis.text.x = element_text(angle = 90, hjust = 1)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- b. Modify the plot in (a) so that categories are sorted from those with highest --&gt;
&lt;!-- to lowest average prices. --&gt;

&lt;!-- ```{r, fig.height = 5, fig.width = 10} --&gt;
&lt;!-- ggplot(ikea) + --&gt;
&lt;!--   geom_jitter(aes(reorder(category, price), price)) + --&gt;
&lt;!--   labs(x = "Category of Furniture", y = "Price ($)") + --&gt;
&lt;!--   theme(axis.text.x = element_text(angle = 90, hjust = 1)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ```{r, fig.height = 5, fig.width = 10} --&gt;
&lt;!-- ggplot(ikea) + --&gt;
&lt;!--   geom_jitter(aes(reorder(category, price), price)) + --&gt;
&lt;!--   labs(x = "Category of Furniture", y = "Price ($)") + --&gt;
&lt;!--   scale_y_log10() + --&gt;
&lt;!--   theme(axis.text.x = element_text(angle = 90, hjust = 1)) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- c. Color points according to whether they can be purchased online. If they --&gt;
&lt;!-- cannot be purchased online, add a text label giving the name of that item of --&gt;
&lt;!-- furniture. --&gt;

&lt;!-- ```{r, fig.height = 5, fig.width = 10} --&gt;
&lt;!-- ggplot(ikea) + --&gt;
&lt;!--   geom_jitter(aes(reorder(category, price), price, col = sellable_online)) + --&gt;
&lt;!--   labs(x = "Category of Furniture", y = "Price ($)", col = "Available Online?") + --&gt;
&lt;!--   scale_y_log10() + --&gt;
&lt;!--   scale_color_manual(values = c("#400202", "#0596A6")) + --&gt;
&lt;!--   theme( --&gt;
&lt;!--     axis.text.x = element_text(angle = 90, hjust = 1), --&gt;
&lt;!--     legend.position = "right" --&gt;
&lt;!--   ) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ```{r, fig.height = 5, fig.width = 10} --&gt;
&lt;!-- library(ggrepel) --&gt;
&lt;!-- ggplot(ikea, aes(reorder(category, price), price)) + --&gt;
&lt;!--   geom_jitter(data = filter(ikea, sellable_online), aes(col = sellable_online), size = 1, alpha = 0.6) + --&gt;
&lt;!--   geom_jitter(data = filter(ikea, !sellable_online), aes(col = sellable_online), size = 3) + --&gt;
&lt;!--   geom_text_repel(data = filter(ikea, !sellable_online), aes(label = name), size = 4) + --&gt;
&lt;!--   labs(x = "Category of Furniture", y = "Price ($)", col = "Available Online?") + --&gt;
&lt;!--   scale_color_manual(values = c("#400202", "#0596A6")) + --&gt;
&lt;!--   scale_y_log10() + --&gt;
&lt;!--   theme( --&gt;
&lt;!--     axis.text.x = element_text(angle = 90, hjust = 1), --&gt;
&lt;!--     legend.position = "right" --&gt;
&lt;!--   ) --&gt;
&lt;!-- ``` --&gt;

---

### In-Class Discussion [3-1]

* At https://go.wisc.edu/(tk), response to *one* of the two prompt options.
* The first prompt is related to the code demo we will work through. The second
is related to the reading and notes for the week.
* Discuss and answer the prompts with your project group. Include your project
group number next to  your answer.

---

### In-Class Demo [3 - 1]

We will work through [NCAA Trends] in the exercises sheet.

* Live Demo: https://go.wisc.edu/
* Completed Code: https://go.wisc.edu/
* Whiteboard: https://go.wisc.edu/

---

### In-Class Exercise [3 - 1]

* Submit an answer to [Ikea Faceting] from the exercises sheet. Provide a brief explanation for your selection.
* We only need one submission per project group -- make sure to name all your
team members in the submission.
* Note: This is an example of a past midterm problem.

---

## Week 3 - 2

1. Exercise Review
1. In-Class Demo [3-2]
1. In-Class Exercise [3-2]

---

## Announcements

* Everyone should have a team, and the Visualization Shares schedule
is finalized.
  - Please make sure any relevant links are on the sign-up sheet
* Assignments:
  - Project Milestone 1 [tk]
  - HW1 [tk]

---

&lt;!-- ### Exercise Review --&gt;

&lt;!-- Here is the original histogram, without any faceting by category. --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- ikea &lt;- read_csv("https://uwmadison.box.com/shared/static/iat31h1wjg7abhd2889cput7k264bdzd.csv") %&gt;% --&gt;
&lt;!--           filter(category %in% c("Tables", "Bookcases", "Beds", "Cabinets", "Sofas", "Wardrobes")) --&gt;
&lt;!-- p &lt;- ggplot(ikea) + --&gt;
&lt;!--   geom_histogram(aes(log(price))) --&gt;
&lt;!-- p --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review (Part (a)) --&gt;

&lt;!-- .pull-left[ --&gt;
&lt;!-- * `facet_grid` controls whether we explicitly arrange facets along rows or columns. --&gt;
&lt;!-- * If we place the variable before the `~`, it arranges them along rows. --&gt;
&lt;!-- ] --&gt;

&lt;!-- .pull-right[ --&gt;
&lt;!-- ```{r, fig.height = 3.9, fig.width = 4} --&gt;
&lt;!-- p + facet_grid(category ~ .) --&gt;
&lt;!-- ``` --&gt;
&lt;!-- ] --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review (Part (b)) --&gt;

&lt;!-- .pull-left[ --&gt;
&lt;!-- * The remaining plots all use `facet_wrap` --&gt;
&lt;!-- * By default, the axes all use the same scale, which rules out (ii) --&gt;
&lt;!-- * By default, the facets are sorted alphabetically, which rules out (iv) --&gt;
&lt;!-- ] --&gt;

&lt;!-- .pull-right[ --&gt;
&lt;!-- ```{r, fig.width = 6.5, fig.height = 4} --&gt;
&lt;!-- p + facet_wrap(~ category) --&gt;
&lt;!-- ``` --&gt;
&lt;!-- ] --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review (Part (c)) --&gt;

&lt;!-- The only plot with different `\(y\)`-axes per facet is plot (iii). --&gt;

&lt;!-- ```{r, fig.width = 6.5, fig.height = 4} --&gt;
&lt;!-- p + facet_wrap(~ category, scales = "free_y") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review (Part (d)) --&gt;

&lt;!-- `axes = "separate"` is not an actual option in `facet_grid` --&gt;

&lt;!-- ```{r, eval = FALSE} --&gt;
&lt;!-- p + facet_wrap(~ category, axes = "separate") --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review (Part (e)) --&gt;

&lt;!-- Looking at the `\(x\)`-axis values of plot (iv), we can see that the facets are --&gt;
&lt;!-- sorted from those with the lowest to those with the highest average price. --&gt;

&lt;!-- ```{r, fig.width = 6.5, fig.height = 4, out.width = 600} --&gt;
&lt;!-- p + facet_wrap(~ reorder(category, price)) --&gt;
&lt;!-- ``` --&gt;

---

### In-Class Demo

* Before we work through the demo together, discuss your initial attempt here: https://go.wisc.edu/tk
* We will work through [Multiple Weather Variables] in the exercises sheet.

* Live Demo: https://go.wisc.edu/tk
* Completed Code: https://go.wisc.edu/tk
* Whiteboard: https://go.wisc.edu/tk

---

### In-Class Exercise

* Submit an answer to [Faceting Rules of Thumb] from the exercises sheet. Provide
a brief explanation for your selection.
* Everyone should submit a response (**not** one per team for this problem).

---

## Week 4 - 1

1. Exercise Review
1. In-Class Discussion [4-1]
1. In-Class Demo [4-1]
1. In-Class Exercise [4-1]

---

## Announcements

* Assignments:
  - HW1 [tk]
  - Project Milestone 2 has been released [tk]

---

&lt;!-- ### Exercise Review --&gt;

&lt;!-- _Whenever possible, each panel in a faceted plot should be made to have its own `\(y\)`-axis scale._ --&gt;

&lt;!-- False: Readers generally assume the facets have the same axes scales. Free --&gt;
&lt;!-- scales should only be provided if the resulting figure would not be legible --&gt;
&lt;!-- otherwise. In this case, the caption should highlight the fact that the scales --&gt;
&lt;!-- are not the same across facets. --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review --&gt;

&lt;!-- _When using the `patchwork` package, two plots `p1` and `p2` can be placed side-by-side using `p1 / p2`._ --&gt;

&lt;!-- False: `/` places panels on top of one another. To place them side by side, we --&gt;
&lt;!-- can use `+`.  --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review --&gt;

&lt;!-- _When using the `patchwork` package, the `plot_layout` function can be used to collect legends._ --&gt;


&lt;!-- True: This can be done by calling `plot_layout(guides = "collect")`. --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review --&gt;

&lt;!-- _Relative to interactively filtered displays, faceted plots are less taxing on the reader's memory._ --&gt;

&lt;!-- True: Faceting requires more space, but it allows comparisons to be made without --&gt;
&lt;!-- having to recall the previous interactive view. Tamara Munzner calls this --&gt;
&lt;!-- principle, "Eyes beat memory." --&gt;

---

### Discussion [4 - 1]

* This discussion is a warm-up to interactive visualization.
* Respond to the prompt at https://go.wisc.edu/tk
* Discuss and answer the prompts with your project group. Include your project
group number next to  your answer.

---

### In-Class Demo [4 - 1]

* We will work through [California Wildfires] in the exercises sheet.
* The completed code is available here: https://go.wisc.edu/tk

---

### In-Class Exercise [4 - 1]

* Submit an answer to [Name App Bugs, Parts a - c]
from the exercises sheet.
* Only one response per team needed.

---

## Week 5 - 1

1. Visualization Share
1. Shiny App Tips
1. In-Class Demo [5 - 1]
1. In-Class Discussion [5 - 1]
1. In-Class Exercise [5 - 1]

---

### Announcements

1. Upcoming deadlines
  * HW2 is due on **tk**.
  * Project Milestone 2 is due on **tk**.

---

### Shiny Apps in Problem Sets

If you tried compiling a Shiny app within an rmarkdown document, you probably
saw a message like the one below,

&lt;img src="figures/shiny_rmarkdown.png"/&gt;

You did not make a mistake! Shiny doesn't allow you to host an app within an
Rmarkdown document, unfortunately.

---

### Shiny Apps in Submissions

To let us grade your Shiny apps within the problem sets, you have two options,

1. Include a screen recording of your app along with the code you used to create
it. You do not need to share the code as R scripts -- we will just read the code
as it's embedded in the main write-up.

1. You could try hosting your app on a public site.

---

### Debugging Shiny Apps

In addition to printing to the R console or inserting a `browser()` call, you
can create UI elements that print variables of interest.
  * `verbatimOutput` will print arbitrary R objects to the shiny UI
  * Remind me to give examples during our demo today.


``` r
server &lt;- function(input, output) {
  output$debug &lt;- verbatimOutput({
    # intermediate data structure 
  })
}
```

---

### Debugging Shiny Apps

A general principle for debugging: If you are very stuck, it helps to simplify
the problem. Pare away parts of the code that seem unrelated to the bug until
you arrive at a minimal example that reproduces the same buggy behavior. In the
process, you may discover the solution, and even if not, you will have a version
of the code that others can easily give feedback on.

---

### In-Class Discussion [5 - 1]

Use the whiteboard below to prepare pseudocode for [Interactive German Traffic]
in the exercise sheet. You can draw directly on the board or write post-its
outlining the essential logic.

* Whiteboard: https://go.wisc.edu/

---

### In-Class Demo [5 - 1]

We will work through [Interactive German Traffic] in the exercise sheet. **Only join the Live Demo if your university ID ends in an odd number.**

* Live Demo: https://go.wisc.edu/tk
* Whiteboard: https://go.wisc.edu/tk
* Completed Code: https://go.wisc.edu/tk

---

### In-Class Exercise [5 - 1]

We will work through the [Code Analysis] exercise again, but for material from
Shiny.

[Code Analysis] Pick one code example from this weekâ€™s lecture notes. Provide a
3 - 4 sentence summary of the overall implementation strategy. Then, add
comments every 10 - 15 lines describing what each section of code is doing. If
there are parts that you do not understand, add a ??? next to it (we will review
these in the next lecture).

---

## Week 5 - 2

1. Exercise Review
1. In-Class Demo [5 - 2]
1. In-Class Discussion [5 - 2]
1. In-Class Exercise [5 - 2]

---

### Announcements

1. We are done with the first course module (Fundamentals of Data
Visualization). The remaining modules are focused on specific data types.
1. Upcoming deadlines
  * HW2 is due on **tk**.
  * Project Milestone 2 is due on **tk*.
  * The Midterm is in-class on **tk**.

---

### Exercise Review

---

### In-Class Demo [5 - 2]

We will work through [California Wildfires] part (c) in the exercise sheet. **Only join the Live Demo if your university ID ends in an even number.**

* Live Demo: https://go.wisc.edu/
* Whiteboard: https://go.wisc.edu/k5s8af
* Completed Code: https://go.wisc.edu/zw7577

---

### In-Class Exercise [5 - 2]

Document: https://go.wisc.edu/hds4qx

Prompt: Right now, the dotplot responds to the brushed histogram. However,

  * The dotplot does not allow any user inputs.
  * The histogram does not reflect year or user selections.

Imagine someone came to your statistical consulting hours with this application.
They want your expertise to improve the app so that it conveys more information.
How would you approach this? What might be some first steps towards
implementation?

---

## February 27, 2024

1. Visualization Shares
1. In-Class Exercise [6 - 1]
1. In-Class Discussion [6 - 1]
1. In-Class Demo [6 - 1]

---

### Announcements

1. Milestone 1 grades and HW1 solutions are posted.
1. Deadlines
  1. HW2 is due on **March 11**.
  1. Project Milestone 2 is due on **March 25**.
1. The Midterm is in-class on **March 21**. A practice exam and solutions are on
Canvas. 

---

### Today

By the end of the class, you should be able to...

* Construct and visualize a `tsibble` time series object
* Discuss the presence of trend, seasonal, or cyclic structure in a time series

---

### In-Class Discussion [6 - 1]

Link: https://go.wisc.edu/9b10ye

Prompts:

1. What datasets have you seen that have time series (or sequential) structure?
Describe some of the context around the data. What questions were they intended
to answer?

1. In your own words, what makes analysis of time series data challenging? Have
you encountered any of these challenges in your past projects?

---

### In-Class Exercise [6 - 1]

* I will pause at a few points during the demo today, and I want you to guess
what the next step in the analysis is.
* At the end of the demo, summarize your guesses and submit them to Canvas.
* You should be able to make your submission before the end of class.

---

### In-Class Demo [6 - 1]

We will work through as much of [Global Carbon Footprint Network] as we can.

* Live Demo: https://go.wisc.edu/
* Whiteboard: https://go.wisc.edu/v487qk
* Completed Code: https://go.wisc.edu/7rjqc5

---

## February 29, 2024

1. Visualization Shares
1. In-Class Demo [6 - 2]
1. In-Class Exercise [6 - 2]

---

### Announcements

1. Deadlines
  1. HW2 is due on **March 11**.
  1. Project Milestone 2 is due on **March 25**.
1. The Midterm is in-class on **March 21**. A practice exam and solutions are on
Canvas. 

---

### Today

By the end of the class, you should be able to...

* Compute and interpret time series features using the `feasts` package
* Design and critique interactive visualizations based on time series features

---

### In-Class Demo [6 - 2]

We will work through [Global Carbon Footprint II].  Before we do this, work with
your neighbors to brainstorm a response to part (b). Summarize your discussion
on the whiteboard below.

* Live Demo: https://go.wisc.edu/
* Whiteboard: https://go.wisc.edu/96168u
* Completed Code: https://go.wisc.edu/m1o5ps

---

### In-Class Exercise [6 - 2]

* Work through parts (a - b) in the [Spotify Time Series I] problem on the
exercise sheet.
* You can discuss this with your neighbors, but make your submission
individually.
* You will get full credit if you make an honest attempt -- if you become stuck
at some step, describe the difficulty that you encountered.

---

## March 5, 2024

1. Visualization Shares
1. In-Class Discussion [7 - 1]
1. In-Class Demo [7 - 1]
1. In-Class Exercise [7 - 1]

---

### Announcements

1. Deadlines
  1. HW2 is due on **March 11**.
  1. Project Milestone 2 is due on **March 25**.
1. The Midterm is in-class on **March 21**. A practice exam and solutions are on
Canvas.  To study, consider:
  1. Revieiwng the online course notes.
  1. Sketching solutions to problems from the exercise sheet.

---

&lt;!-- ### Exercise Review --&gt;

&lt;!-- Let's look at the most streamed song of 2017, which was "Shape of You." The --&gt;
&lt;!-- dataset --&gt;
&lt;!-- [here](https://uwmadison.box.com/shared/static/hvplyr3jy6vbt7s80lqgfx81ai4hdl0q.csv) --&gt;
&lt;!-- contains the number of streams for this song across regions, for each day in --&gt;
&lt;!-- which it was in the Spotify 100 most streamed songs for that region. Create a --&gt;
&lt;!-- `tsibble` object from this dataset, keying by `region` and indexing by `date`. --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- song &lt;- read_csv("https://uwmadison.box.com/shared/static/hvplyr3jy6vbt7s80lqgfx81ai4hdl0q.csv") --&gt;
&lt;!-- head(song) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review --&gt;

&lt;!-- ```{r} --&gt;
&lt;!-- library(tsibble) --&gt;
&lt;!-- song_ts &lt;- as_tsibble(song, key = "region", index = "date") --&gt;
&lt;!-- song_ts --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review --&gt;

&lt;!-- Filter to `region == "global"`, and make a `gg_season` plot by month. Comment --&gt;
&lt;!-- on the what you see. --&gt;

&lt;!-- ```{r, echo = FALSE, fig.width = 6} --&gt;
&lt;!-- library(feasts) --&gt;
&lt;!-- song_ts |&gt; --&gt;
&lt;!--   filter(region == "global") |&gt; --&gt;
&lt;!--   gg_season(streams, period = "month") + --&gt;
&lt;!--   theme(legend.key.width = unit(1.5, "cm")) --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review --&gt;

&lt;!-- Filter to `region == "global"`, and make a `gg_season` plot by month. Comment --&gt;
&lt;!-- on the what you see. --&gt;

&lt;!-- ```{r, echo = TRUE, eval = FALSE} --&gt;
&lt;!-- library(feasts) --&gt;
&lt;!-- song_ts |&gt; --&gt;
&lt;!--   filter(region == "global") |&gt; --&gt;
&lt;!--   gg_season(period = "month") + --&gt;
&lt;!--   theme(legend.key.width = unit(1.5, "cm")) --&gt;
&lt;!-- ``` --&gt;

---

### Today

By the end of class today, you should be able to,

* Read in and describe geospatial properties of a dataset in vector format
* Create a map from (and visually encode data contained within) a spatial data
frame.

---

### In-Class Discussion [7 - 1]

Document: https://go.wisc.edu/

Prompt: In your own words, explain the key characteristics of vector datasets.
Why can't vector data simply be stored as `csv` files?

---


### In-Class Demo [7 - 1]

We will work through parts (a - c) of [Glacial Lakes].

* Live Demo: https://go.wisc.edu/r40k6b
* Completed Code: https://go.wisc.edu/0m495i

If we have time, we'll also show how to create a direct link to these data.

---

### In-Class Exercise [7 - 1]

Please submit a response to [tmap Exploration] parts (a - b) in the exercise
sheet. Make your submission with your project team.

[tmap Exploration] There are many example maps on the tmap packageâ€™s homepage â€“
see the vignettes, tutorials, or presentations, for example. In this problem,
you will recreate and deconstruct one example visualization from this webpage.

a. Pick one figure from the page linked above. Describe the data used to
generate this figure. Is the data in a vector or raster format?

b. Regenerate the figure and write comments in the code that describe the
purpose for each layer (or related groups of layers).

---

## March 7, 2024

1. In-Class Discussion [7 - 2]
1. In-Class Demo [7 - 2]
1. In-Class Exercise [7 - 2]

---

### Announcements

1. Deadlines
  1. HW2 is due on **March 11**.
  1. Project Milestone 2 is due on **March 25**.
1. The Midterm is in-class on **March 21**. A practice exam and solutions are on
Canvas. You will be responsible for material up to the Week 8 - 4 notes. To study, consider:
  1. Reviewing the online course notes.
  1. Sketching solutions to problems from the exercise sheet.
  1. Practice under time pressure.

---

### Today

By the end of class today, you should be able to,

* Integrate leaflet into your Shiny Apps.
* Use leaflet interactions to guide reactive operations.

---

### In-Class Discussion [7 - 2]

Document: https://go.wisc.edu/62yi93

[Glacial Lakes]. The data at this link contain labels of glacial lakes the Hindu
Kush Himalaya, created during an ecological survey in 2015 by the International
Centre for Integrated Mountain Development.

d. Part (c) allowed us to visualize the lake data within a very small region.
How might you use interactivity to navigate the full collection of lakes?
Describe at least one query that allows us to filter by a property of the lake
and another that allows us to filter by spatial extent. How would you lay out
the visualization components to streamline these queries?

---

### In-Class Demo [7 - 2]

We will work through part (e) of [Glacial Lakes].  Before we do this, brainstorm
solutions to part (d) with your group. 

* Live Demo: https://go.wisc.edu/8fq87o
* Completed Code: https://go.wisc.edu/0h64ry


---

### In-Class Exercise [7 - 2]

In groups of 2 - 3, work through [Pair Code Review] in the exercise sheet.
Please submit your an individual summary of your discussion.

You're especially encouraged to review one another's HW2 drafts.

---

## March 12, 2024

1. Visualization Shares
1. In-Class Demo [8 - 1]
1. In-Class Exercise [8 - 1]

---

### Announcements

1. Deadlines
  1. Project Milestone 2 is due on **tk**.
  1. Project and Portfolio Peer Reviews are due **tk**
  1. HW3 is due on **tk**.
1. The Midterm is in-class on **tk**. A practice exam and solutions are on
Canvas. You will be responsible for material up to the Week 8 - 4 notes. To study, consider:
  1. Reviewing the online course notes.
  1. Sketching solutions to problems from the exercise sheet.
  1. Practice under time pressure.

---

### Today

By the end of the class, you should be able to...

* Read in a network or tree dataset using the `tidygraph` package
* Create a node-link network or tree visualization with visual encodings for
node properties

---

### In-Class Demo [8 - 1]

We will work through [COVID-19 Phylogeny] in the exercises sheet.

* Live Demo: https://go.wisc.edu/k926u3
* Completed Code: https://go.wisc.edu/6rf430
---

### Practice Midterm Review

* With your team, respond to the prompts here: https://go.wisc.edu/8nkw75
* Submit your slides to Canvas as a group

---

### March 14, 2024

1. Visualization Shares
1. In-Class Discussion [8 - 2]
1. In-Class Demo [8 - 2]

---

### Announcements

1. Deadlines
  1. Project Milestone 2 is due on **tk**.
  1. Project and Portfolio Peer Reviews are due **tk**
  1. HW3 is due on **tk**.
1. The Midterm is in-class on **tk**. A practice exam and solutions are on
Canvas. You will be responsible for material up to the Week 8 - 4 notes. To study, consider:
  1. Reviewing the online course notes.
  1. Sketching solutions to problems from the exercise sheet.
  1. Practice under time pressure.

---

### Today

By the end of class today, you should be able to,

* Comment on the readability and priorities of alternative graph layouts and visual encodings.
* Modify the layout of graph visualizations made using the `ggraph` package.

---

### In-Class Discussion [8 - 2]

Document: https://go.wisc.edu/82jq92

We'll set aside some time in the next session to review for the midterm (+
upcoming assignments).

  * Is there a concept / code example from the notes / lectures that you would like to go through in more detail?

  * Is there a simplified example that would be helpful to work through?
  
  * Any other questions?

---

### In-Class Demo [8 - 2]

We will work through [Movie Genres] (and, if time, [UK Energy Flow]) in the
exercise sheet.

* Live Demo: https://go.wisc.edu/tsqo23
* Completed Code: https://go.wisc.edu/2ap172

---

## March 19, 2024

1. Visualization Shares
1. Review Session
1. In-Class Discussion [9 - 1]

---

### Announcements

1. Deadlines
  1. Project Milestone 2 is due on **tk**.
  1. Project and Portfolio Peer Reviews are due **tk**
  1. HW3 is due on **tk**.
1. The Midterm is in-class on **tk**. A practice exam and solutions are on
Canvas. You will be responsible for material up to the Week 8 - 4 notes. To study, consider:
  1. Reviewing the online course notes.
  1. Sketching solutions to problems from the exercise sheet.
  1. Practice under time pressure.

---

### Learning Outcome 1

Develop a vocabulary of visual encodings that support exploration of geospatial,
temporal, tree-structured, and network data, and demonstrate facility
implementing them using packages in the R programming language.

* tsibble
* Trends and seasonality, explain lag
* Vector and raster data

---

### tsibble

* Data structures for storing time series data
* Must include temporal `index` column. This specifies the sampling frequency.
  * Optionally includes a `key` for working with collections of time series


``` r
library(tsibble)
head(tourism)
```

```
## # A tsibble: 6 x 5 [1Q]
## # Key:       Region, State, Purpose [1]
##   Quarter Region   State           Purpose  Trips
##     &lt;qtr&gt; &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;    &lt;dbl&gt;
## 1 1998 Q1 Adelaide South Australia Business  135.
## 2 1998 Q2 Adelaide South Australia Business  110.
## 3 1998 Q3 Adelaide South Australia Business  166.
## 4 1998 Q4 Adelaide South Australia Business  127.
## 5 1999 Q1 Adelaide South Australia Business  137.
## 6 1999 Q2 Adelaide South Australia Business  200.
```

---

### tsibble

* Why are `data.frames` useful? In theory, couldn't we always use lists of lists?
* A similar justification applies to `tsibble`. When we can assume more properties, we can write more tailored functions. 

---

### tsibble


``` r
library(feasts)
tourism |&gt;
  filter(Region == "Alice Springs", Purpose == "Holiday") |&gt;
  gg_lag(y = Trips)
```

&lt;img src="slides_files/figure-html/unnamed-chunk-7-1.png" width="700" style="display: block; margin: auto;" /&gt;

---

### Time Series properties

From [notes 6 - 2](https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week06-02/),

* Trend: A long-run increase or decrease in a time series.
* Seasonal: A pattern that recurs over a fixed and known period.
* Cyclic: A rising and falling pattern that does not occur over a fixed or known period.

---

### Vector Data

See [notes 7 - 1](https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week07-01/):

* Vector data formats are used to store geometric information (esp. points, lines, and polygons).
* Can be read in using `read_sf` and visualized using `tm_dots`, `tm_lines`, and `tm_polygons` layers, for example.

---

### Vector Data


``` r
library(sf)
lakes &lt;- read_sf("https://raw.githubusercontent.com/krisrs1128/stat436_s23/main/data/GL_3basins_2015.topojson") |&gt;
  filter(Sub_Basin == "Dudh Koshi")
lakes
```

```
## Simple feature collection with 349 features and 11 fields
## Geometry type: POLYGON
## Dimension:     XY
## Bounding box:  xmin: 86.52067 ymin: 27.60735 xmax: 86.98649 ymax: 28.07853
## CRS:           NA
## # A tibble: 349 Ã— 12
##    id       Id Latitude Longitude GL_ID           Basin Sub_Basin    Area Elevation Type  Country
##  * &lt;chr&gt; &lt;int&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;     &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  
##  1 90       NA     27.8      86.6 GL086621E27790N Koshi Dudh Koshi 0.458       5146 M(e)  Nepal  
##  2 91       NA     27.8      86.6 GL086612E27779N Koshi Dudh Koshi 1.22        4829 M(e)  Nepal  
##  3 92       NA     27.9      86.9 GL086925E27898N Koshi Dudh Koshi 1.34        5002 M(e)  Nepal  
##  4 93       NA     27.9      86.7 GL086746E27933N Koshi Dudh Koshi 0.0763      4954 M(e)  Nepal  
##  5 242      NA     27.8      86.6 GL086617E27795N Koshi Dudh Koshi 0.0142      5183 M(e)  Nepal  
##  6 243      NA     27.8      86.6 GL086643E27777N Koshi Dudh Koshi 0.296       5161 M(e)  Nepal  
##  7 244      NA     27.9      86.7 GL086710E27943N Koshi Dudh Koshi 0.0894      4709 I(s)  Nepal  
##  8 245      NA     27.9      86.7 GL086712E27936N Koshi Dudh Koshi 0.0176      4705 I(s)  Nepal  
##  9 246      NA     27.9      86.7 GL086710E27937N Koshi Dudh Koshi 0.0465      4701 I(s)  Nepal  
## 10 247      NA     28.0      86.7 GL086737E27975N Koshi Dudh Koshi 0.0333      5356 M(e)  Nepal  
## # â„¹ 339 more rows
## # â„¹ 1 more variable: geometry &lt;POLYGON&gt;
```

---

### Vector Data


``` r
library(tmap)
tm_shape(lakes) +
  tm_polygons()
```

&lt;img src="slides_files/figure-html/unnamed-chunk-9-1.png" width="1400" style="display: block; margin: auto;" /&gt;

---

### Raster Data

See [notes 7 - 1](https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week07-01/):

* Raster data are measured along an even spatial grid.
* They can be read in using `rast` in the terra library and visualized using `tm_rgb`.

---

### Raster Data


``` r
library(terra)
landsat &lt;- rast("https://github.com/krisrs1128/stat436_s24/raw/main/data/LE07_140041_20071221-subset.tif")
landsat
```

```
## class       : SpatRaster 
## dimensions  : 1601, 1662, 15  (nrow, ncol, nlyr)
## resolution  : 0.0002973394, 0.0002973394  (x, y)
## extent      : 86.51314, 87.00732, 27.63608, 28.11212  (xmin, xmax, ymin, ymax)
## coord. ref. : lon/lat WGS 84 (EPSG:4326) 
## source      : LE07_140041_20071221-subset.tif 
## names       : LE07_~set_1, LE07_~set_2, LE07_~set_3, LE07_~set_4, LE07_~set_5, LE07_~set_6, ... 
## min values  :          35,          21,          15,          12,           3,          45, ... 
## max values  :         255,         255,         255,         255,         255,         177, ...
```

---

### Raster Data


``` r
tm_shape(landsat) +
  tm_rgb()
```

&lt;img src="slides_files/figure-html/unnamed-chunk-11-1.png" width="650" style="display: block; margin: auto;" /&gt;

---

### Raster Data


``` r
tm_shape(landsat) +
  tm_rgb(r = 15, g = 15, b = 15, max.value = 75)
```

&lt;img src="slides_files/figure-html/unnamed-chunk-12-1.png" width="650" style="display: block; margin: auto;" /&gt;

---

### Learning Outcome 2

Design dynamic queries that support interactive visualization of
heterogeneous data, and demonstrate facility implementing them using the shiny
package in the R programming language.

* Reactivity in Shiny
* How to write out Shiny code
* Brushing in Shiny

---

### Reactivity

From _Mastering Shiny_

&gt; The key idea of reactive programming is to specify a graph of dependencies so that when an input changes, all related outputs are automatically updated.

The execution of reactive code depends on the user's inputs.

---

### Reactivity

For any type of interactive visualization (in Shiny or otherwise), it's worth
thinking carefully about the reactive graph:

* What are potential user inputs?
* What outputs needs to be changed in response?
* How do intermediate data structures need to be changed?

---

### Reactivity

&lt;iframe src="https://connect.doit.wisc.edu/content/dc907aa5-090e-410e-8f9f-6bdb19befc75/" allowfullscreen="" data-external="1" height=500 width=800&gt;&lt;/iframe&gt;

---

### Reactivity

&lt;img src="https://raw.githubusercontent.com/krisrs1128/stat479_s22/main/_posts/2022-02-10-week04-02/figures/reactive_histo.png" width=800&gt;
&lt;/img&gt;

---

### Brushing

The usual recipe for is:

* Ensure the `plotOutput` is given a `brush`.
  - Optionally, use `brushOpts` to constrain brush direction
* Define a `reactiveVal` to store updated brush selections
* Create an `observeEvent` to check for brush events and update the `reactiveVal` above using `brushedPoints`

---

### Brushing

From the [week 5 - 2 notes](https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week05-02/).


``` r
ui &lt;- fluidPage(
   plotOutput("plot", brush = "plot_brush")
 )
```

---

### Brushing

From the [week 5 - 2 notes](https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week05-02/).


``` r
server &lt;- function(input, output) {
  selected &lt;- reactiveVal(initial value)
  observeEvent(
    input$plot_brush,
    ... computation using get new_value ...
    selected(new_value)
  )

  output$plot &lt;- renderPlot(... use scatter() reactive val...)
}
```

---

### Learning Outcome 5

Evaluate strengths and weaknesses of visualizations in relation to the tasks
they support.

* How to decide what type of visualization you should make by looking at the data.

---

### Visualization Design/Critique

How to decide what type of visualization you should make by looking at the data.

* Determine the data types/interpretation for each column separately
* Make a list of potentially interesting questions
* For each question,
  - What are the relevant variables?
  - How do they need to be compared?
  - Which should be prioritized?
* Determine visual encodings using data type + prioritization
* Recognize parallel structure (for small multiples)

---

### Visualization Design/Critique

Determine visual encodings using data type + prioritization

For example, if we had a categorical + continuous variable, we could consider:

* `geom_boxplot`: `\(x\)`-axis `\(\to\)` category, `\(y\)`-axis `\(\to\)` continuous value
* `geom_histogram`: 
  - `\(x\)`-axis `\(\to\)` continuous value, color `\(\to\)` category
  - `\(x\)`-axis `\(\to\)` continuous value, facet `\(\to\)` category
* `geom_point` or `geom_jitter`: `\(x\)`-axis `\(\to\)` category (with jitter), `\(y\)`-axis `\(\to\)` continuous value

---

### Visualization Design/Critique

&lt;img src="figure/channels.png" width=750/&gt;

---

### Visualization Design/Critique

When critiquing, ask: 
  * Which comparisons are automatic/perceptual? 
  * Which laborious/require calculation?

&lt;img src="figure/popout.png"/&gt;

---

### Discussion 9 - 1

What didn't we review? https://go.wisc.edu/rop674

* Identify one concept that we did not review today.
* Share a summary in your own words.
* Link to relevant material from the notes.
* Give a code example (if applicable).

---

### April 2, 2024

1. Visualization Shares
1. In-Class Discussion [10 - 1]
1. In-Class Demo [10 - 1]
1. Return Exams / In-Class Exercise [10 - 1]

---

### Announcements

1. Project and Portfolio Peer Reviews are due **tk**
1. HW3 is due **tk**.
1. Undergraduate research quick talks
  - Statistics seminar on Thursday, April 11 @ 4:00 pm - 5:00 pm on Zoom*

---

### Midterm Recap

* Refer to the syllabus for our percent/percentile-based grading scheme
* We added 1 point to everyone's overall score because the "Shiny Bugs" question was harder than we anticipated.
* We were generally more forgiving with code-related issues relative to problems in definitions/discussion.

&lt;img src="figure/midterm.svg"/&gt;

---

### Today

By the end of the class, you should be able to...

   * Use PCA tO "map" the rows of a high-dimensional, numerical dataset
   * Design and interpret a visualization of PCA component directions

---

### PCA Example

This example is from "Genes Mirror Geography" by Novembre et al. (2008).

&lt;img src="figure/genes-geography-1.png" width="500" style="display: block; margin: auto;" /&gt;

---

### PCA Example

This example is from "Genes Mirror Geography" by Novembre et al. (2008).

&lt;img src="figure/genes-geography-2.png" width="500" style="display: block; margin: auto;" /&gt;

---

### In-Class Discussion [10 - 1]

With your group, work through [PCA Interpretation]: https://go.wisc.edu/461pjz

---

### In-Class Demo

We will work through [Food Nutrients] in the exercise sheet.

* Live Demo: https://go.wisc.edu/
* Completed Code: https://go.wisc.edu/273244

---

### In-Class Exercise [10 - 1]

With your group, submit an answer to [Job Interview] from the exercises sheet.

Imagine that you are interviewing job candidates for a data science position
that involves visualization with PCA. Prepare an interview question that test
candidatesâ€™ knowledge of / experience with these topics. Also prepare examples
of strong responses. An good question will either (i) ask the interviewee to
describe a specific time in the past where they used the concept or (ii) present
the interviewee with a type of challenge related to what is commonly encountered
and see how they would address it

---

### April 4, 2024

1. Visualization Shares
1. In-Class Discussion [10 - 2]
1. In-Class Demo [10 - 2]
1. In-Class Exercise [10 - 2]

---

### Announcements

1. Project and Portfolio Peer Reviews are due **tk**
1. HW3 is due **tk**.
1. Undergraduate research quick talks
  - Statistics seminar on Thursday, April 11 @ 4:00 pm - 5:00 pm on Zoom*
  - https://uwmadison.zoom.us/j/95252018582


---

### Today

By the end of the class, you should be able to...

   * Use UMAP to "map" the rows of a high-dimensional, numerical dataset
   * Interpret a UMAP display

---

### Nonlinear Dimensionality Reduction Example

This example is from "A Topography of Climate Change Research" by Callaghan et
al. (2020). They also used an initial topic modeling step.

&lt;img src="figure/climate-tomography-1.png" width="400" style="display: block; margin: auto;" /&gt;

---

### Nonlinear Dimensionality Reduction Example

Each panel corresponds to the fastest growing topics within different IPCC
working groups.

&lt;img src="figure/climate-tomography-2.png" width="1000" style="display: block; margin: auto;" /&gt;

---

### In-Class Discussion [10 - 2]

With your group, work through [How to Misread UMAP]: https://go.wisc.edu/9edtux

---

### In-Class Exercise [10 - 2]

* I will pause at a few points during the demo today, and I want you to guess
what the next step in the analysis is.
* At the end of the demo, you can summarize your guesses and submit them. You should be able to make your submission before the end of class.

&lt;!-- (How to make recipe, how to color points, impact of increasing n neighbors) --&gt;

---

### In-Class Demo [10 - 2]

We will work through [Single-Cell Genomics] in the exercise sheet.

* Live Demo: https://go.wisc.edu/ih617w
* Completed Code: https://go.wisc.edu/i0cae4

---

### April 9, 2024

1. Visualization Shares
1. In-Class Discussion [11 - 1]
1. In-Class Demo [11 - 1]
1. In-Class Exercise [11 - 1]

---

### Announcements

1. Due Dates 
  - HW3 is due **April 15**.
  - HW4 is due **May 6**.
  - Project Milestone 3 is due **May 6**
1. If you posted HW2 on Piazza by the deadline, but did not submit it to Canvas, please write to teh TA with me in cc.
1. Undergraduate research quick talks
  - Statistics seminar on Thursday, April 11 @ 4:00 pm - 5:00 pm on Zoom
  - https://uwmadison.zoom.us/j/95252018582

---

### Today

By the end of the class, you should be able to...

* Explain the assumptions, input, and output for a Latent Dirichlet Allocation (LDA) model
* Prepare a document term matrix for modeling with LDA
* Prepare a barplot visualization of LDA outputs

---

### In-Class Discussion [11 - 1]

With your group, respond to [Interpreting Topic Models]: https://go.wisc.edu/x9z1vr

---

### In-Class Demo [11 - 1]

We will work through [Topics in Pride and Prejudice] in the exercise sheet.

* Live Demo: https://go.wisc.edu/901ycv
* Completed Code: https://go.wisc.edu/3430v4

---

### In-Class Exercise [11 - 1]

Respond to [Code Analysis] from the exercise sheet. You can choose any material
from weeks 10 - 11.

&gt; Provide a 3 - 4 sentence summary of the overall implementation strategy. Then, add comments every 10 - 15 lines describing what each section of code is doing.  If there are parts that you do not understand, add a ??? next to it (we will review these in the next lecture).

---

### April 11, 2024

1. Visualization Shares
1. In-Class Discussion [11 - 2]
1. In-Class Demo [11 - 2]

---

### Announcements

1. Due Dates 
  - HW3 is due **April 15**.
  - HW4 is due **May 6**.
  - Project Milestone 3 is due **May 6**
1. Undergraduate research quick talks
  - Statistics seminar on Thursday, April 11 @ 4:00 pm - 5:00 pm on Zoom*
  - https://uwmadison.zoom.us/j/95252018582

---

&lt;!-- ### Exercise Review --&gt;

&lt;!-- In R's formula syntax, `.` is shorthand for "all variables." This is saying to --&gt;
&lt;!-- build a recipe using all variables as predictors, with none as the response. --&gt;

&lt;!-- ```{r, eval = FALSE} --&gt;
&lt;!-- umap_rec &lt;- recipe(~., data = pbmc) |&gt; # Why  ~. ?  why we want to swap x and y value? --&gt;
&lt;!-- ``` --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review --&gt;

&lt;!-- `value` refers to the Principal Component value for that dimension. --&gt;

&lt;!-- * Formally: This column stores the vectors that define the PC subspace. --&gt;
&lt;!-- * Informally: As we increase along that PC's direction, value describes how that coordinate is expected to change. --&gt;

&lt;!-- .center[ --&gt;
&lt;!-- &lt;img src="figure/tidy_value.png" width=400/&gt; --&gt;
&lt;!-- ] --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review --&gt;

&lt;!-- In this example, we can argue that, --&gt;

&lt;!-- \begin{align} --&gt;
&lt;!-- \text{Gauguin } \sim 1.38 \text{PC}_{1} - 1.15 \text{PC}_{2} + 1.34 \text{PC}_{3} + \dots --&gt;
&lt;!-- \end{align} --&gt;

&lt;!-- .center[ --&gt;
&lt;!--   &lt;img src="figure/pca_scores.png" width=600/&gt; --&gt;
&lt;!-- ] --&gt;

&lt;!-- --- --&gt;

&lt;!-- ### Exercise Review --&gt;

&lt;!-- In this example, we can argue that, --&gt;

&lt;!-- \begin{align} --&gt;
&lt;!-- \text{Gauguin } \sim 1.38 \text{PC}_{1} - 1.15 \text{PC}_{2} + 1.34 \text{PC}_{3} + \dots --&gt;
&lt;!-- \end{align} --&gt;

&lt;!-- For example, if we use the first 5 PC dimensions, then the Light Rum coordinate --&gt;
&lt;!-- of the Gauguin should be roughly, --&gt;

&lt;!-- \begin{align} --&gt;
&lt;!-- \text{Gauguin}_{\text{Light Rum}} &amp;= 1.38 \times 0.163 - 1.15 \times \left(-0.112\right) + 1.34 \times 0.152 \\ --&gt;
&lt;!-- &amp;\approx 1.22 --&gt;
&lt;!-- \end{align} --&gt;

&lt;!-- The actual value is 2. --&gt;

---

### Today

By the end of the class, you should be able to...

* Implement and interpret a Structure plot for LDA memberships
* Explain how LDA can be used as an intermediate step for prediction modeling

---

### In-Class Discussion [11 - 2]

To prepare for today's in-class demo, respond to these prompts with your group:
https://go.wisc.edu/wx5zj6

---

### In-Class Demo [11 - 2]

We will work through [Hotel Reviews] in the exercise sheet.

* Live Demo: https://go.wisc.edu/2ym746
* Completed Code: https://go.wisc.edu/m11w1n

---

### In-Class Exercise [11 - 2]

With your team, respond to [Milestone Reflection] from the exercise sheet.

[Milestone Reflection] In this exercise, you will have a chance to reflect on your teamâ€™s workflow for the upcoming project milestone. Please respond to the following prompts,

a. How do you plan on organizing your teamâ€™s writing and coding efforts? How can you ensure that relevant resources and preliminary progress can be easily reviewed?

b. What do you anticipate will be the most significant challenge your team faces in preparing the project milestone? Which aspects of this challenge are within your teamâ€™s control? How do you plan on overcoming (or sidestepping) this challenge?

c. Do you have any questions for the teaching staff related to the upcoming project milestone?

---

### April 16, 2024

1. Visualization Shares
1. In-Class Discussion [12 - 1]
1. In-Class Demo [12 - 1]
1. In-Class Exercise [12 - 1]

---

### Announcements

1. Due Dates 
  - HW3 is due **April 15**.
  - HW4 is due **May 6**.
  - Project Milestone 3 is due **May 6**
1. Logistics
  - There will be no class on **May 1**. I am away at a conference and the TA
  cannot be here in person.
  - For this reason, the final presentations are cancelled. These points have
  been re-allocated in the updated project milestone 3 description.

---

### Today

By the end of the class, you should be able to...

* Give the general definition of a partial dependence profile (PDP).
* Implement and interpret specific PDP instances using the DALEX package.

---

### In-Class Discussion [12 - 1]

With your group, respond to [Model Visualization Purpose]: https://go.wisc.edu/0s7rw6

---

### In-Class Exercise [12 - 1]

* I will pause at a few points during the demo today, and I want you to guess
what the next step in the analysis is.
* At the end of the demo, you can summarize your guesses and submit them:
* You should be able to make your submission before the end of class.

---

### In-Class Demo [12 - 1]

We will work through [Gender Pay Gap] in the exercise sheet.

* Live Demo: https://go.wisc.edu/9fbgg5
* Completed Code: https://go.wisc.edu/6ah29j

---

### April 18, 2024

1. Visualization shares
1. In-Class Discussion [12 - 2]
1. In-Class Demo [12 - 2]
1. In-Class Exercise [12 - 2]

---

### Announcements

1. Due Dates 
  - HW4 is due **May 6**.
  - Project Milestone 3 is due **May 6**
1. Logistics
  - There will be no class on **May 1**. I am away at a conference and the TA
  cannot be here in person.
  - For this reason, the final presentations are cancelled. These points have
  been re-allocated in the updated project milestone 3 description.

---

### Today

By the end of the class, you should be able to...

* Explain the difference between posterior and posterior predictive distributions.
* Visualize and interpret specific posterior and posterior predictive distributions.
* Create an animation using the gganimate package.

---

### In-Class Discussion [12 - 2]

With your group, respond to [3 - 2 - 1]: https://go.wisc.edu/vm39ts

---

### In-Class Demo [12 - 2]

We will work through [Evolutionary Ecology] in the exercise sheet.

* Live Demo: https://go.wisc.edu/4200ob
* Completed Code: https://go.wisc.edu/z9mj4e

---

### In-Class Exercise [12 - 2]

With your team, respond to [Concept Map] in the exercise sheet.

Prepare a concept map to summarize the last week of reading material. An
effective submission will include a thorough coverage of both abstract concepts
and practical examples, summarized concisely into short phrases. It will also
include well-justified links between nodes, with text explanations for edges
whose interpretation might not be obvious at first.

---

### April 23, 2024

1. Visualization Shares
1. In-Class Discussion [13 - 1]
1. In-Class Demo [13 - 1]
1. In-Class Exercise [13 - 1]

---

### Announcements

1. Due Dates 
  - HW4 is due **May 6**.
  - Project Milestone 3 is due **May 6**
1. Logistics
  - The TAs office hours are being held on Zoom.
  - There will be no class on **May 2**.

---

### Review

_How exactly does hierarchical clustering work?_

* This method works by merging similar samples from the bottom up.
* I realized that the images in the course notes were broken. I've fixed this, and we can review them now.
* https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week09-02

---

### Review

_When does it help to modify factor levels?_

* If we have an axis encoding categorical information, then it helps to order the categories by something meaningful.
 - Similarly, it helps to order facets deliberately
* Usually, we use `reorder()` directly within the `ggplot()` definition. This only works if the reordering operation is simple.
* More generally, we can manually change factor levels to update category/facet ordering.

---

### Review


``` r
toy_data &lt;- tibble(
  letters = rep(letters[1:5], each = 10),
  values = rnorm(50)
)

ggplot(toy_data) +
  geom_point(aes(letters, values))
```

&lt;img src="slides_files/figure-html/unnamed-chunk-19-1.png" width="650" style="display: block; margin: auto;" /&gt;

---

### Review


``` r
toy_data |&gt;
  mutate(letters = factor(letters, levels = c("a", "c", "e", "b", "d"))) |&gt;
  ggplot() +
  geom_point(aes(letters, values))
```

&lt;img src="slides_files/figure-html/unnamed-chunk-20-1.png" width="650" style="display: block; margin: auto;" /&gt;

---

### Review

_How can we interpret PCA?_

&lt;img src="figure/pca_summary.png"/&gt;

---

### Review

_When would prior and posterior predictions be used?_

* Whenever you are using a Bayesian model and want to compare prior distributions / likelihood models.
* Examples: [Political science](https://www.annualreviews.org/doi/10.1146/annurev.polisci.7.012003.104706), [genetics](https://www.pnas.org/doi/10.1073/pnas.1412301112), [psychology](https://www.mskcc.org/sites/default/files/node/176881/documents/2019-06-03-16-06-14/li_schofield_gonen_dptutorial19.pdf), [evolution](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3985471/), [epidemiology](https://www.asc.ohio-state.edu/goel.1/STAT825/PAPERS/CressiePPMC.pdf)
  - Typically problems where there is interest in a compact generative model.


---

### In-Class Discussion [13 - 1]

With your group, respond to [Tensorflow Playground]: https://go.wisc.edu/p1yo87

---

### In-Class Demo [13 - 1]

We will work through [Histopathology Embeddings] in the exercise sheet.

* Live Demo: https://go.wisc.edu/283k38
* Completed Code: https://go.wisc.edu/311oe1


For a related analysis, consider: [UMAP Image Collection](https://observablehq.com/@cpietsch/explorawolke-fisheye-view-snappy)

---

### In-Class Exercise [13 - 1]

Prepare responses to [The top ten worst graphs] in the exercise sheet. You can
discuss with your team, but make submissions individually.

Prof. Broman has a delightful list of rogue data Visualizations:
[https://www.biostat.wisc.edu/~kbroman/topten_worstgraphs/](https://www.biostat.wisc.edu/~kbroman/topten_worstgraphs/)

a. Review 3 figures from the list *without* reading Prof. Broman's discussion
of them. Summarize the essential issues with the underlying visualization.

b. Again, without reading the discussion, propose an alternative way to
communicate the main message of the graphic.

c. Read the discussion. How does it complement your analysis? What shared data
visualization principles are you drawing from?


---


### April 25, 2024

1. Visualization Shares
1. In-Class Discussion [13 - 2]
1. In-Class Demo [13 - 2]

---

### Announcements

1. Due Dates 
  - HW4 is due **May 6**.
  - Project Milestone 3 is due **May 6**
1. Logistics
  - The TAs office hours are being held on Zoom.
  - There will be no class on **May 2**.




---

### In-Class Discussion [13 - 2]

With your group, respond to [Visualization and LLMs]: https://go.wisc.edu/7av32k

---


### In-Class Demo [13 - 2]

We will work through [Histopathology Embeddings] again, this time assisted by an
LLM.

* Live Demo: https://go.wisc.edu/u4sg8e
* Completed Code: https://go.wisc.edu/311oe1


---

### April 30, 2024

1. In-Class Discussion [14 - 1]
1. Review and Recommendations

---

### Announcements

1. Due Dates 
  - HW4 is due **May 6**.
  - Project Milestone 3 is due **May 6**
1. Logistics
  - The TAs office hours are being held on Zoom.
  - There will be no class on **May 2**.
  - Friday office hours -- only on Zoom
1. I encourage you to review the HW3 solutions.

---

### Post-Course Logistics

* The course canvas, notes, and recordings will remain online indefinitely.
* In-class demos will be taken down from the course repository
  - Please save if you want continued access.

---

### In-Class Discussion [14 - 1]

Link: https://go.wisc.edu/8skvdv

Discuss one of the three prompts:
  * Advice for future students
  * What and now what?
  * Time Capsule

---

### Review: Graphical Encoding

.center[
&lt;img src="https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week03-02/2024-12-27-week03-02_files/figure-html5/unnamed-chunk-10-1.png" width=850/&gt;
]

---

### Review: Graphical Encoding

* Grammar of graphics: Make it easy to compose complex visualizations from simple parts
* Compound Figures and Faceting: Coordinate multiple figure components to navigate related views.
* Going Further
  - [Grammar of Graphics](https://search.library.wisc.edu/catalog/9911035726302121) by Leland Wilkinson
  - [Visualization Analysis and Design](https://search.library.wisc.edu/catalog/9911196629502121) by Tamara Munzner
  - [Semiology of Grahpics](https://search.library.wisc.edu/catalog/9910121754502121) by Jacques Bertin

---

### Review: Interactivity

.center[
&lt;iframe src="https://connect.doit.wisc.edu/content/f8d86e79-f2f6-41ed-807a-2d5ad61052ea/" allowfullscreen="" data-external="1" height=800 width=600&gt;&lt;/iframe&gt;
]


---

### Review: Interactivity

* Dynamic Linking: "Escape Flatland" by linking low-dimensional views. Just because we make plots on 2D screens doesn't mean we can't reason about higher dimensions.
* Focus-plus-Context: Allow readers to navigate multiple scales of interest
* Going Further
  - [Design of Everyday Things](https://search.library.wisc.edu/catalog/9910706218202121) by Don Norman

---

### Review: Spatial and Temporal Data

.center[
&lt;img src="https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week07-03/2024-12-27-week07-03_files/figure-html5/unnamed-chunk-7-1.png" width=800/&gt;
]

---

### Review: Spatial and Temporal Data

* Data structures can make key properties clear: Temporal frequencies, spatial coordinates, ...
* Visualization grammars can be extended to specific data modalities
* Going Further
  - IEEE Vis Workshops [Spatial](https://virtual.ieeevis.org/year/2022/session_full6.html), [Temporal](https://virtual.ieeevis.org/year/2022/session_full21.html)
  - [How Maps Work](https://search.library.wisc.edu/catalog/999746716802121) by Allan MacEachern

---

### Review: Network and High-Dimensional Data

.center[
  &lt;img src="https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week08-02/2024-12-27-week08-02_files/figure-html5/unnamed-chunk-3-1.png" width=1100/&gt;
]

---

### Review: Network and High-Dimensional Data

* There are many network-specific encodings available: Node-link, adjacency, enclosure, ...
* High-dimensional data often have low-dimensional structure, and this can be made visible using either linear (PCA) or nonlinear (UMAP) methods
* Going Further
  - [Interactive High-Dimensional Data Visualization](https://www.tandfonline.com/doi/abs/10.1080/10618600.1996.10474696) by Buja, Cook, Swayne
  - [Diffusion Maps (PNAS)](https://www.pnas.org/action/oidcStart?redirectUri=%2Fdoi%2F10.1073%2Fpnas.0500334102) by Coifman et al.

---

### Review: Text and Image Data

.center[
  &lt;img src="https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week11-3/2024-12-27-week11-3_files/figure-html5/unnamed-chunk-10-1.png" width=900/&gt;
]

---

### Review: Text and Image Data

* Text and images can be represented as high-dimensional vectors by models like Latent Dirichlet Allocation and Convolutional Neural Networks.
* High-dimensional visualization can be used to navigate the resulting numericl representations.
* Going Further
  - [text package](https://r-text.org/) for text embedding and visualization
  - [EBImage package](https://github.com/aoles/EBImage) for image manipulation

---

### Review: Prediction and Visualization

.center[
&lt;img src="https://krisrs1128.github.io/stat436_s24/posts/2024-12-27-week12-2/2024-12-27-week12-2_files/figure-html5/unnamed-chunk-2-1.png" width=900/&gt;
]

---

### Review: Prediction and Visualization

* Algorithms don't live in a vacuum. Visualization helps us understand models in context.
* Visualization can make you a better machine learner 
  - Stanford class story
* Going Further
  - [Distill Journal](https://distill.pub/)
  - [MLVis Workshop](https://events.tuni.fi/mlvis/mlvis2024/)
  - [MLSS Tutorial](https://docs.google.com/presentation/d/e/2PACX-1vT9niyHbIv29umb-p3jNHNvs0wpXwwnXvUdubiunV3J0N8O2E7cTrax4giBfPs-xDVnEdaHdN2Ui9Bd/embed?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.p) by Been Kim
  - [Agency plus Automation (PNAS)](https://www.pnas.org/doi/10.1073/pnas.1807184115) by Jeff Heer

---

### Visualization Community

UW Madison Courses: CS565/765, Geog378, ECON315, LIS677, LIS407/707
* [Data Science Hub](https://datascience.wisc.edu/hub/)

Online Resources:
* [Observable](https://observablehq.com/explore)
* [Nightingale Magazine](https://nightingaledvs.com/)
* [Journal of Visualization and Interaction](https://journals.aau.dk/index.php/jovi/issue/view/466)
* [Data Humanism](https://giorgialupi.com/data-humanism-my-manifesto-for-a-new-data-wold)

---

### Conclusion

1. Beyond the specific topics, remember the learning techniques: examples,
tinkering, and visual explanations.
1. Send me your favorite visualizations.
1. There are many important problems that could benefit from careful reasoning
about data. Use your skills to help!
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
